apply plugin: 'java-library'
apply plugin: 'kotlin'
apply plugin: "org.jlleitschuh.gradle.ktlint"
apply plugin: 'maven'

group = 'com.github.hoop-carpool'

ext {
    kotlin_coroutines_version = "1.3.3"
}
dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"
    implementation "org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlin_coroutines_version"
    testImplementation "org.jetbrains.kotlinx:kotlinx-coroutines-test:$kotlin_coroutines_version"
    testImplementation 'junit:junit:4.13'
}

ktlintCheck.dependsOn "ktlintFormat"
compileKotlin.dependsOn "ktlintCheck"
build.dependsOn "ktlintCheck"

task sourceJar(type: Jar) {
    from sourceSets.main.allSource
}